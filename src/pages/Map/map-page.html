
<ion-header>
  <ion-navbar color="primary">
    <ion-title>VibeSetter</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
    <agm-map [latitude]="myPosition.lat" [longitude]="myPosition.lng" [zoom]="mapZoom"> 
        <agm-marker [latitude]="myPosition.lat" [longitude]="myPosition.lng"></agm-marker>
        <agm-marker *ngFor="let location of nearbyLocations" 
          [latitude]="location.lat" [longitude]="location.long" [label]="labelOptions">
            <agm-snazzy-info-window 
              [latitude]="location.lat" [longitude]="location.long" [maxWidth]="400" [closeWhenOthersOpen]="true">
                <ng-template>
                  <div>
                    <ion-title id="markerTitle">{{location.name}}</ion-title>
                    <div>
                      <img id="locationImage" src="https://via.placeholder.com/200"/>      
                    </div>
                    <ion-label text-wrap>
                        <span>{{location.description}}</span><br>
                     </ion-label>
                     <ion-label>
                       <span>
                         {{location?.street}}, {{location?.city}}, {{location?.province}}{{location?.postal}}         
                       </span>
                     </ion-label>
                     <div>
                       <ion-icon name="pin"></ion-icon>
                       {{location?.distance}}KM
                     </div>  
                  </div> 
                  <div>         
                    <button id="detailButton" (click)="markerClicked(location)">More Details</button>
                  </div>
                </ng-template>
              </agm-snazzy-info-window> 
        </agm-marker>
      </agm-map>
</ion-content>
